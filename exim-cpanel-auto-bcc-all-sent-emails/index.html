<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Exim / Cpanel auto bcc all sent emails | Catalin T.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="A common request we get is how a user can automatically BCC outgoing email to another address. This is most often requested by law firms that need to be able to retain copies of communication. Forward">
<meta property="og:type" content="article">
<meta property="og:title" content="Exim / Cpanel auto bcc all sent emails">
<meta property="og:url" content="http://catalint.github.io/exim-cpanel-auto-bcc-all-sent-emails/index.html">
<meta property="og:site_name" content="Catalin T.">
<meta property="og:description" content="A common request we get is how a user can automatically BCC outgoing email to another address. This is most often requested by law firms that need to be able to retain copies of communication. Forward">
<meta property="og:updated_time" content="2015-11-20T21:41:58.304Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Exim / Cpanel auto bcc all sent emails">
<meta name="twitter:description" content="A common request we get is how a user can automatically BCC outgoing email to another address. This is most often requested by law firms that need to be able to retain copies of communication. Forward">
  
    <link rel="alternative" href="/atom.xml" title="Catalin T." type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Catalin T.</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://catalint.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-exim-cpanel-auto-bcc-all-sent-emails" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/exim-cpanel-auto-bcc-all-sent-emails/" class="article-date">
  <time datetime="2013-09-30T17:46:52.000Z" itemprop="datePublished">2013-09-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Root/">Root</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Exim / Cpanel auto bcc all sent emails
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>A common request we get is how a user can automatically BCC outgoing email to another address. This is most often requested by law firms that need to be able to retain copies of communication. Forwarding incoming email is easy – there’s already a section in cPanel for it. However, if you want to forward outgoing email there’s a small twist.</p>
<a id="more"></a>
<p>First, go to <strong>WHM</strong> &gt; <strong>Exim Configuration Editor</strong>, then click “<strong>Advanced Editor</strong>” at the bottom. Don’t make any changes, just click “save”. This should create a file on the server called <em>/etc/exim.conf.local</em>. From command line as root, you’ll need to edit <em>/etc/exim.conf.local</em> and add some options to the @CONFIG@ and @TRANSPORTSTART@ sections. The end result would look like this (plus any edits you may have already made):</p>
<p><code>@AUTH@</code></p>
<p><code>@BEGINACL@</code></p>
<p><code>@CONFIG@
system_filter_directory_transport = local_copy_outgoing</code><br><code>@DIRECTOREND@</code></p>
<p><code>@DIRECTORMIDDLE@</code></p>
<p><code>@DIRECTORSTART@</code></p>
<p><code>@ENDACL@</code></p>
<p><code>@RETRYEND@</code></p>
<p><code>@RETRYSTART@</code></p>
<p><code>@REWRITE@</code></p>
<p><code>@ROUTEREND@</code></p>
<p><code>@ROUTERSTART@</code></p>
<p><code>@TRANSPORTEND@</code></p>
<p><code>@TRANSPORTMIDDLE@</code></p>
<p><code>@TRANSPORTSTART@
local_copy_outgoing:
driver = appendfile
delivery_date_add
envelope_to_add
return_path_add
group = cpaneleximfilter
user = cpaneleximfilter
mode = 0660
maildir_format = true
create_directory = true</code></p>
<p>Now, make a copy of the existing system filter file to a custom location, so cPanel updates don’t mess with it:</p>
<blockquote>
<p>cp /etc/cpanel_exim_system_filter /etc/cpanel_exim_system_filter_custom<br>Edit /etc/exim.conf.localopts and change the “systemfilter” option to match our new file:</p>
</blockquote>
<p><code>systemfilter=/etc/cpanel_exim_system_filter_custom</code></p>
<p>Now, open _/etc/cpanel_exim_system_filter<em>custom</em> and add the following block of code to the end of the file:</p>
<p><code>if $header_from: contains &quot;@senderdomain.com&quot;
then
unseen deliver &quot;other@emailaddress&quot;
endif</code></p>
<p>Replace the blue text with the sender domain (or email address) and the email address that outgoing mail should be copied to.</p>
<p>Apply these new settings to the exim.conf and restart:</p>
<blockquote>
<p>/scripts/buildeximconf</p>
<p>service exim restart<br>Now when you send email from the email address or domain specified in the filter file, it will be copied to the other email address.</p>
</blockquote>
<p>source: <a href="http://www.thecpaneladmin.com/copy-outgoing-email-on-a-cpanel-server-with-exim/" target="_blank" rel="external">http://www.thecpaneladmin.com/copy-outgoing-email-on-a-cpanel-server-with-exim/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://catalint.github.io/exim-cpanel-auto-bcc-all-sent-emails/" data-id="cih877xf9002blkosdu7y2gx5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/git-commit-on-wrong-branch/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Git commit on wrong branch
        
      </div>
    </a>
  
  
    <a href="/do-more-with-your-gmail-address/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Do more with your gmail address</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Root/">Root</a><span class="category-list-count">44</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Troll/">Troll</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">May 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">April 2014</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/01/">January 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">November 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">October 2013</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">August 2013</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">July 2013</a><span class="archive-list-count">8</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/a-new-kind-of-db-distributed-stream-processing-framework/">a new kind of DB, distributed stream processing framework</a>
          </li>
        
          <li>
            <a href="/scoped-css/">scoped CSS</a>
          </li>
        
          <li>
            <a href="/google-wallet-merchant-registration-available-in-romania/">Google Wallet Merchant registration available in Romania</a>
          </li>
        
          <li>
            <a href="/ls-in-windows-command-prompt/">ls in windows command prompt</a>
          </li>
        
          <li>
            <a href="/using-streaming-chunked-html-to-get-the-web-pages-render-faster/">Using Streaming Chunked HTML to Get The Web pages render faster</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Catalin Tanasescu<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>